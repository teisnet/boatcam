extends ../layout

block navigation
    +breadcrumb('admin', 'cameras')

block content
    .page-header= camera.title || "New Camera"
    form
        .field
            label Title:
            input(type="text" name="title" value=camera.title autofocus)
        .field
            label Slug:
            input(type="text" name="slug" value=camera.slug  required)
        .field
            label Enabled:
            input(type="checkbox" name="enabled" value="true" checked=camera.enabled)
        .field
            label Hostname:
            input(type="text" name="hostname" value=camera.hostname)
        .field
            label Username:
            input(type="text" name="username" value=camera.username)
        .field
            label Password:
            input(type="text" name="password" value=camera.password)
        .field
            label RTMP hostname:
            input.wide(type="text" name="uri" value=camera.uri)
        .field
            label ONVIF port:
            input.narrow(type="number" name="onvif" value=camera.onvif min="0" max="65535" maxlength="5")
        .field
            label HTTP port:
            input.narrow(type="number" name="http" value=camera.http min="0" max="65535" maxlength="5")
        .page-footer
            input#cameraSubmit.btn.btn-success(type="submit" value= camera.new ? "Create" : "Save")
            if !camera.new
                button#cameraDelete.btn.btn-danger Delete
        .error

block scripts
    script.
        var cameraData = !{JSON.stringify(camera, null, 2)}
    script(src="/javascripts/admin/camera-page.js")
